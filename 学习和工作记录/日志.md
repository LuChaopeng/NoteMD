# 2021年8月26日16:11:17

1. 这两天在完成文哥布置的项目练习-微信小程序实现同步画板。我先在Web端学习和实现。

   1. 熟悉<canvas>绘图，较简单，已经可以实现本地画板；

   2. 使用WebSocket实现网络通信。（计划：今天）

      遇到问题：node的WebSocket资料实在是太少了，加之我网络基础并不好，一直学不动。客户端（浏览器）有浏览器提供的ws对象，node需要使用库，了解到ws和socket.io，但ws是真的找不到资料，只看示例我看不懂。于是改成Socket.IO，至少有官方文档，是全英的，虽然词汇比较简单，但以我的英语基础只能慢慢啃。目前正在照着示例学习，希望加快进度，本周完成web端的应用构建，开始使用小程序实现。

   3. 构建Web端同步画板的应用。

   4. 在Nginx服务器上部署后端服务器。

   5. 迁移到小程序。

   6. 对项目进行优化。

# 2021年8月27日10:58:51

1. 昨天计划中的（2）于今天上午完成，定位和解决了静态文件服务的问题，详见<a href="../JavaScript/疑问收集和解答.md">JavaScript/疑问收集与解答/同步画板(Web端)</a>部分；熟悉了Socket.IO的实践处理机制，目前计划于今天内完成Web端同步画板，并部署到服务器。



# 2021年8月30日15:53:44

1. 上周五（8.27）完成了1-4，实现了Web版画板的基础功能，今天开始将其迁移到微信小程序。

   1. 小程序本地画板	（完成）
   2. 小程序WebSocket通信  （进行中）
   3. 小程序同步画板  （未开始）

   实现本地画板时，小程序的Canvas接口让我迷惑了很久，一整个上午到中午时间才基本实现。目前实现WebSocket通信，我不知道如何将之前Web端使用的Socket.IO应用到小程序后端（貌似互不兼容），也找不到示例，故准备小程序端使用小程序接口，服务器使用ws库。

# 2021年8月31日15:32:07

1. 昨天安排的任务基本完成，WebSocket后端采用ws库，前端使用小程序提供的接口。童文给的要求基本满足（差一个房间）。

   问题与解决：完成web版时，Socket.IO可以自定义事件，但做小程序时就不行了，于是将不同的触摸事件的数据写成JSON类发出到后端，通过指定的属性值分辨事件来源。

2. 想要实现房间功能。看了ws的`clients`的接口文档，也打印出client的数据，没能明白如何识别不同客户端。

   网上找到的都是Socket.IO的实现，没有别的示例。我也没有去看ws的源码或探究原生WebSocket实现的难度。暂时放一放，画板的实现先到此为止了。

3. 后续安排

   1. 检验小程序能否在局域网（同一网段）中实现WebSocket通信；

      小程序指南要求仅通过已备案的域名进行网络通信。

   2. 实现小程序搜索局域网（同一网段）内IP地址；

   3. 实现遥控器核心功能。

